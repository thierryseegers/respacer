<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>respace: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">respace
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#introduction">Introduction</a></li>
<li class="level1"><a href="#technical">Technical considerations</a><ul><li class="level2"><a href="#dependencies">Dependencies</a></li>
<li class="level2"><a href="#input">Run-time inputs</a></li>
</ul>
</li>
<li class="level1"><a href="#thanks">Thanks</a></li>
<li class="level1"><a href="#sample">Sample code</a></li>
<li class="level1"><a href="#license">License</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="introduction"></a>
Introduction</h1>
<p><a class="el" href="classrespacer.html">respacer</a> is part of a larger project of mine that requires reconstructing sentences that have lost their whitespace. For example, given an input of "itisiyourking", we would like to produce "it is i your king", the most likely sentence originally. This mini-project serves to capture the work done for that purpose.</p>
<p>To achieve this goal, I have drawn from recent experience working with natural language processing tools.</p>
<p>I dare claim that it's performance is up there but I have little to compare it against. It is fast enough in the context of the aforementioned larger project so I will most probably not spend more time to optimize. Note also that I've only ever run this project on MacOS but the code is cross-platform and so are its dependencies.</p>
<h1><a class="anchor" id="technical"></a>
Technical considerations</h1>
<h2><a class="anchor" id="dependencies"></a>
Dependencies</h2>
<p><a class="el" href="classrespacer.html">respacer</a> is dependent on <a href="http://kheafield.com/code/kenlm/">libkenlm</a>. <code>libkenlm</code> provides the language model analysis facilities. <code>libkenlm</code> is itself dependent on <code>libboost-system</code>, <code>libboost-thread</code>, <code>libz</code> and <code>libbz2</code>.</p>
<h2><a class="anchor" id="input"></a>
Run-time inputs</h2>
<p>In order to use <a class="el" href="classrespacer.html">respacer</a>, one must supply two files at run-time:</p><ul>
<li>A plain text sorted dictionary file. Given that <a class="el" href="classrespacer.html">respacer</a> does direct string matching for spell-checking, that file should contain all of a word possible suffixes. e.g. "fruit", "fruits" and "fruity".</li>
<li>A language model file. This file should follow the <a href="http://www.speech.sri.com/projects/srilm/manpages/ngram-format.5.html">ARPA backoff N-gram models</a> format. <a class="el" href="classrespacer.html">respacer</a> makes use of the <a href="http://kheafield.com/code/kenlm/">kenlm</a> language model library and so, one can supply a binary-compressed file.</li>
</ul>
<h1><a class="anchor" id="thanks"></a>
Thanks</h1>
<ul>
<li>Ken Heafield, author of the <a href="http://kheafield.com/code/kenlm/">kenlm</a> language model tools.</li>
</ul>
<h1><a class="anchor" id="sample"></a>
Sample code</h1>
<p>This sample code produces an executable that reads a string from standard input and produces a sentence including spaces on the standard output. It uses two included files:</p><ul>
<li>A dictionary file generated with <a href="http://aspell.net/">aspell</a> (<code>aspell -d en dump master | aspell -l en expand &gt; aspell_en_expanded</code>).</li>
<li>A compressed language model file generated from <a href="https://www.gutenberg.org/ebooks/1112.txt.utf-8">Shakespeare's Romeo and Juliet</a> using <a href="http://kheafield.com/code/kenlm/">kenlm</a> tools (<code>bin/lmplz -o 3 &lt; pg1112.txt &gt; romeo_and_juliet.arpa; bin/build_binary romeo_and_juliet.arpa romeo_and_juliet.mmap</code>).</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="respacer_8h.html">respacer.h</a>&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;lm/model.hh&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacestd.html">std</a>;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keyword">const</span> <span class="keywordtype">char</span> * argv[])</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="classrespacer.html">respacer</a> r(<span class="stringliteral">&quot;./aspell_en_expanded&quot;</span>, <span class="stringliteral">&quot;./romeo_and_juliet.mmap&quot;</span>);</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">string</span> sentence;</div>
<div class="line">    getline(cin, sentence);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">auto</span> <span class="keyword">const</span> respaced = r.respace(sentence);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">for</span>(<span class="keyword">auto</span> i = respaced.begin(); i != respaced.end(); ++i)</div>
<div class="line">    {</div>
<div class="line">        cout &lt;&lt; (i == respaced.begin() ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot; &quot;</span>) &lt;&lt; *i;</div>
<div class="line">    }</div>
<div class="line">    cout &lt;&lt; endl;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="license"></a>
License</h1>
<pre class="fragment">(C) Copyright Thierry Seegers 2015. Distributed under the following license:

Boost Software License - Version 1.0 - August 17th, 2003

Permission is hereby granted, free of charge, to any person or organization
obtaining a copy of the software and accompanying documentation covered by
this license (the "Software") to use, reproduce, display, distribute,
execute, and transmit the Software, and to prepare derivative works of the
Software, and to permit third-parties to whom the Software is furnished to
do so, all subject to the following:

The copyright notices in the Software and this entire statement, including
the above license grant, this restriction and the following disclaimer,
must be included in all copies of the Software, in whole or in part, and
all derivative works of the Software, unless such copies or derivative
works are solely in the form of machine-executable object code generated by
a source language processor.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO EVENT
SHALL THE COPYRIGHT HOLDERS OR ANYONE DISTRIBUTING THE SOFTWARE BE LIABLE
FOR ANY DAMAGES OR OTHER LIABILITY, WHETHER IN CONTRACT, TORT OR OTHERWISE,
ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
DEALINGS IN THE SOFTWARE.
</pre> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Sep 23 2015 15:49:32 for respace by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
